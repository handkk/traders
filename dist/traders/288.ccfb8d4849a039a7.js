"use strict";(self.webpackChunktraders=self.webpackChunktraders||[]).push([[288],{8288:(X,z,o)=>{o.r(z),o.d(z,{CustomerModule:()=>y});var u=o(6895),p=o(5263),r=o(433),n=o(4650),h=o(9651),C=o(2566),v=o(1102),c=o(3679),i=o(6704),d=o(5635),g=o(8231),x=o(6616),Z=o(7044),T=o(1811),l=o(2587);function S(t,a){1&t&&(n.TgZ(0,"nz-select",25),n._UZ(1,"nz-option",26),n.qZA())}function F(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"span",28),n.NdJ("click",function(){n.CHM(e);const m=n.oxw(2);return n.KtG(m.clearfield("address"))}),n.qZA()}}function N(t,a){if(1&t&&n.YNc(0,F,1,0,"span",27),2&t){const e=n.oxw();n.Q6J("ngIf",e.validateForm.controls.address.value)}}function A(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"span",28),n.NdJ("click",function(){n.CHM(e);const m=n.oxw(2);return n.KtG(m.clearfield("notes"))}),n.qZA()}}function J(t,a){if(1&t&&n.YNc(0,A,1,0,"span",27),2&t){const e=n.oxw();n.Q6J("ngIf",e.validateForm.controls.notes.value)}}function b(t,a){if(1&t&&(n.TgZ(0,"tr")(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.qZA(),n.TgZ(7,"td"),n._uU(8),n.qZA()()),2&t){const e=a.$implicit;n.xp6(2),n.Oqu(e.name),n.xp6(2),n.Oqu(e.phone_number),n.xp6(2),n.Oqu(e.address),n.xp6(2),n.Oqu(e.notes)}}function P(t,a){if(1&t&&(n.TgZ(0,"nz-table",29,30)(2,"thead")(3,"tr")(4,"th"),n._uU(5,"Name"),n.qZA(),n.TgZ(6,"th"),n._uU(7,"Phone Number"),n.qZA(),n.TgZ(8,"th"),n._uU(9,"Address"),n.qZA(),n.TgZ(10,"th"),n._uU(11,"Notes"),n.qZA()()(),n.TgZ(12,"tbody"),n.YNc(13,b,9,4,"tr",31),n.qZA()()),2&t){const e=n.oxw();n.Q6J("nzData",e.customersData)("nzShowPagination",!0)("nzPageIndex",e.index)("nzTotal",e.total)("nzPageSize",e.pageSize)("nzFrontPagination",!1)("nzLoading",e.loading),n.xp6(13),n.Q6J("ngForOf",e.customersData)}}const O=[{path:"customer",component:(()=>{class t{constructor(e,s,m){this.fb=e,this.message=s,this.mainService=m,this.customersData=[],this.sort=["ascend"],this.listOfColumns=[{name:"Name"},{phoneNumber:"Phone Number"},{address:"Address"},{notes:"Note"}],this.index=1,this.total=9,this.pageSize=5,this.loading=!0}ngOnInit(){this.validateForm=this.fb.group({name:[null,[r.kI.required]],phoneNumberPrefix:["+91"],phoneNumber:[null],address:[null],notes:[null]}),this.mainService.getCustomers().subscribe(e=>{this.customersData=e,this.loading=!1},e=>{console.log("get customers err ",e),this.customersData=[],this.loading=!1})}clearfield(e){this.validateForm.controls[e].reset()}submitForm(){this.validateForm.valid?(console.log("submit",this.validateForm.value),this.customersData.push({name:this.validateForm.value.name,phoneNumber:this.validateForm.value.phoneNumber,address:this.validateForm.value.address,notes:this.validateForm.value.notes}),this.message.create("success",`${this.validateForm.value.name} Customer added Successfully`),this.validateForm.controls.name.reset(),this.validateForm.controls.phoneNumber.reset(),this.validateForm.controls.address.reset(),this.validateForm.controls.notes.reset()):Object.values(this.validateForm.controls).forEach(e=>{e.invalid&&(e.markAsDirty(),e.updateValueAndValidity({onlySelf:!0}))})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(r.QS),n.Y36(h.dD),n.Y36(C.J))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-customer"]],decls:40,vars:27,consts:[[1,"customer-form"],["nz-row",""],["nz-col","","nzSpan","12"],["nz-form","",3,"formGroup","ngSubmit"],["nzFor","name","nzRequired","",3,"nzSm","nzXs"],["nzErrorTip","Please input your name!",3,"nzSm","nzXs"],["nz-input","","id","name","formControlName","name","placeholder","Name"],["nzFor","phoneNumber",3,"nzSm","nzXs"],["nzErrorTip","Please input your phone number!",3,"nzSm","nzXs","nzValidateStatus"],[3,"nzAddOnBefore"],["addOnBeforeTemplate",""],["formControlName","phoneNumber","id","'phoneNumber'","nz-input","",3,"maxlength"],["nzFor","address",3,"nzSm","nzXs"],["nzErrorTip","Please input your address!",3,"nzSm","nzXs","nzValidateStatus"],[1,"ant-input-affix-wrapper-textarea-with-clear-btn",3,"nzSuffix"],["nz-input","","formControlName","address","placeholder","Address"],["textAreaClearTpl",""],["nzFor","notes",3,"nzSm","nzXs"],["nzErrorTip","Please input your notes!",3,"nzSm","nzXs","nzValidateStatus"],["nz-input","","formControlName","notes","placeholder","Notes"],["textAreaClearNotes",""],["nz-row","",1,"register-area"],[3,"nzSpan","nzOffset"],["nz-button","","nzType","primary"],[3,"nzData","nzShowPagination","nzPageIndex","nzTotal","nzPageSize","nzFrontPagination","nzLoading",4,"ngIf"],["formControlName","phoneNumberPrefix",1,"phone-select"],["nzLabel","+91","nzValue","+91"],["nz-icon","","class","ant-input-clear-icon","nzTheme","fill","nzType","close-circle",3,"click",4,"ngIf"],["nz-icon","","nzTheme","fill","nzType","close-circle",1,"ant-input-clear-icon",3,"click"],[3,"nzData","nzShowPagination","nzPageIndex","nzTotal","nzPageSize","nzFrontPagination","nzLoading"],["basicTable",""],[4,"ngFor","ngForOf"]],template:function(e,s){if(1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),n.NdJ("ngSubmit",function(){return s.submitForm()}),n.TgZ(4,"nz-form-item")(5,"nz-form-label",4)(6,"span"),n._uU(7,"Name"),n.qZA()(),n.TgZ(8,"nz-form-control",5),n._UZ(9,"input",6),n.qZA()(),n.TgZ(10,"nz-form-item")(11,"nz-form-label",7),n._uU(12,"Phone Number"),n.qZA(),n.TgZ(13,"nz-form-control",8)(14,"nz-input-group",9),n.YNc(15,S,2,0,"ng-template",null,10,n.W1O),n._UZ(17,"input",11),n.qZA()()(),n.TgZ(18,"nz-form-item")(19,"nz-form-label",12),n._uU(20,"Address"),n.qZA(),n.TgZ(21,"nz-form-control",13)(22,"nz-input-group",14),n._UZ(23,"textarea",15),n.qZA(),n.YNc(24,N,1,1,"ng-template",null,16,n.W1O),n.qZA()(),n.TgZ(26,"nz-form-item")(27,"nz-form-label",17),n._uU(28,"Notes"),n.qZA(),n.TgZ(29,"nz-form-control",18)(30,"nz-input-group",14),n._UZ(31,"textarea",19),n.qZA(),n.YNc(32,J,1,1,"ng-template",null,20,n.W1O),n.qZA()(),n.TgZ(34,"nz-form-item",21)(35,"nz-form-control",22)(36,"button",23),n._uU(37,"Submit"),n.qZA()()()()(),n.TgZ(38,"div",2),n.YNc(39,P,14,8,"nz-table",24),n.qZA()()()),2&e){const m=n.MAs(16),M=n.MAs(25),U=n.MAs(33);n.xp6(3),n.Q6J("formGroup",s.validateForm),n.xp6(2),n.Q6J("nzSm",6)("nzXs",24),n.xp6(3),n.Q6J("nzSm",14)("nzXs",24),n.xp6(3),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24)("nzValidateStatus",s.validateForm.controls.phoneNumber),n.xp6(1),n.Q6J("nzAddOnBefore",m),n.xp6(3),n.Q6J("maxlength",10),n.xp6(2),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24)("nzValidateStatus",s.validateForm.controls.address),n.xp6(1),n.Q6J("nzSuffix",M),n.xp6(5),n.Q6J("nzSm",6)("nzXs",24),n.xp6(2),n.Q6J("nzSm",14)("nzXs",24)("nzValidateStatus",s.validateForm.controls.notes),n.xp6(1),n.Q6J("nzSuffix",U),n.xp6(5),n.Q6J("nzSpan",14)("nzOffset",6),n.xp6(4),n.Q6J("ngIf",s.customersData)}},dependencies:[u.sg,u.O5,v.Ls,c.t3,c.SK,i.Lr,i.Nx,i.iK,i.Fd,r._Y,r.Fj,r.JJ,r.JL,r.nD,r.sg,r.u,d.Zp,d.gB,d.ke,g.Ip,g.Vq,x.ix,Z.w,T.dQ,l.N8,l.Uo,l._C,l.Om,l.p0,l.$Z],styles:["[nz-form][_ngcontent-%COMP%]{max-width:600px}.phone-select[_ngcontent-%COMP%]{width:70px}.register-are[_ngcontent-%COMP%]{margin-bottom:8px}.customer-form[_ngcontent-%COMP%]{margin-top:20px}"]}),t})()},{path:"bill",loadChildren:()=>o.e(595).then(o.bind(o,1595)).then(t=>t.BillModule)},{path:"farmer",loadChildren:()=>o.e(173).then(o.bind(o,6173)).then(t=>t.FarmerModule)},{path:"vegetables",loadChildren:()=>o.e(360).then(o.bind(o,9360)).then(t=>t.VegetablesModule)},{path:"customer-collection",loadChildren:()=>o.e(956).then(o.bind(o,3956)).then(t=>t.CustomerCollectionModule)}];let Q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[p.Bz.forChild(O),p.Bz]}),t})();var f=o(4973);let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[u.ez,Q,f.m,f.m]}),t})()}}]);